
<div class="container">
    <form class="profile-form" [formGroup]="userForm" (ngSubmit)="updateUserProfile(userForm)" >          

      <div class="form-fields-container">

        <img [src]="img_source">

        <div class="full-name">
          <mat-form-field>
            <input 
              formControlName ="firstName"
              matInput 
              placeholder="First Name" 
            >
          </mat-form-field>

          <mat-form-field>
            <input 
              formControlName ="lastName"
              matInput 
              placeholder="Last Name" 
              >
          </mat-form-field>
        </div>

        <mat-form-field>

          <input 
            matInput 
            placeholder="Email" 
            formControlName="email"
          > 
          <mat-error *ngIf="userForm.get('email').hasError('required')">
            Email is <strong>required</strong>
          </mat-error> 

          <mat-error *ngIf="userForm.get('email').hasError('email')">
            Please enter a valid email address
          </mat-error>
              
        </mat-form-field>         

        <div class="full-company">

          <mat-form-field>
              <input 
                formControlName ="company"
                name="comany"
                matInput placeholder="Company " value="">
          </mat-form-field>

          <mat-form-field>
            <mat-select 
              formControlName="company_type"
              placeholder="Company type">
              <mat-option value="agency">Agency</mat-option>
              <mat-option value="brand">Brand</mat-option>
              <mat-option value="other">Other</mat-option>
            </mat-select>
          </mat-form-field>
          
        </div>

        <mat-form-field>

          <input 
            formControlName="website"
            matInput placeholder="https://www.MyWebsite.com"
          >
          <mat-error *ngIf="userForm.get('website').hasError('required')">
            Website url is <strong>required</strong>
          </mat-error>
          <mat-error *ngIf="userForm.get('website').hasError('pattern')">
            Please enter a <strong>valid</strong> url
          </mat-error>

        </mat-form-field>
        
        <mat-form-field>
          <input 
            formControlName="job"
            matInput placeholder="Job Title" value=""
          >
        </mat-form-field>

        <div class="full-phone">

          <mat-form-field>
            <input type="text"
              matInput
              ng2TelInput
              #countryCode
              placeholder="Country code"
              formControlName="countryCode"
              [ng2TelInputOptions]="options"
              (countryChange)="onCountryChange($event)"
              (input)="countryChanged(countryCode.value)"
            />
          </mat-form-field>

          <mat-form-field>
            <input type="text"
              matInput
              formControlName="phone"
              placeholder="Phone number"
            />
            
            <mat-error *ngIf="userForm.get('phone').hasError('required')">
              Phone number is <strong>required</strong>
            </mat-error> 
            
            <span class="phone-error" *ngIf="userForm.get('phone').hasError('pattern') || !isValidPhoneNumber">
              Please enter a valid phone number
            </span>
            </mat-form-field>


         </div>

        </div>

          <button 
            class="profile-btn"
            type="submit"
            [disabled]="!userForm.valid || !isValidPhoneNumber"
            mat-flat-button>Update profile
          </button>

    </form>

</div>